//----------------------------------------------------------------------------
// COMPANY      : Confederation College
// FILE         : QUEUE.H
// FILE VERSION : 1.0
// PROGRAMMER   : Gursahib Singh
//----------------------------------------------------------------------------
// REVISION HISTORY
//----------------------------------------------------------------------------
//
// 1.0, 2019-NOV-01, Gursahib Singh
//   - Initial release
//
#ifndef QUEUE_H_
#define QUEUE_H_
//----------------------------------------------------------------------------
// INCLUDE FILES
//----------------------------------------------------------------------------

#include <stdint.h>
#include <stdbool.h>

//----------------------------------------------------------------------------
// STRUCTURES
//----------------------------------------------------------------------------

typedef struct

{
    uint32_t nq;        // insertion index
    uint32_t dq;        // removal index

    uint32_t count;     // #items in queue
    uint32_t size;      // buffer capacity

    uint8_t  bfr[ 1 ];  // buffer array
} QUEUE;

//----------------------------------------------------------------------------
// FUNCTION PROTOTYPE
//----------------------------------------------------------------------------

QUEUE* QUEUE_Create( uint32_t bfrsize );
bool QUEUE_Enqueue( QUEUE *q, uint8_t data );
bool QUEUE_Dequeue( QUEUE *q, uint8_t *ptr2data );

//----------------------------------------------------------------------------
// CONSTANTS
//----------------------------------------------------------------------------

#endif // QUEUE_H_

//----------------------------------------------------------------------------
// END QUEUE_H_
//----------------------------------------------------------------------------
